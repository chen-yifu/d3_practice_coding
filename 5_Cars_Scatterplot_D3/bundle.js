(function (d3) {
  'use strict';

  const svg = d3.select('svg');


  const height = +svg.attr('height');
  const width = +svg.attr('width');
  const circleRadius = 5;



  const render = data => {
    const xValue = d => d.horsepower;
    const xAxisLabel = 'Horsepower';
    const yValue = d => d.weight;
    const yAxisLabel = 'Weight';
    const title = 'Cars: Horsepower vs. Weight';
    const margin = {top: 70, right: 50, bottom: 90, left: 150};
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
    const xScale = d3.scaleLinear()
    	.domain(d3.extent(data,xValue))
    	.range([0, innerWidth])
    	.nice();
    
    const yScale = d3.scaleLinear()
    	.domain(d3.extent(data,yValue))
    	.range([0,innerHeight])
    	.nice();
    	

    
  	const g = svg.append('g')
    	.attr('transform',`translate(${margin.left},${margin.top})`);

    
  const xAxis = d3.axisBottom(xScale)
  	.tickSize(-innerHeight)
  	.tickPadding(20);

  const yAxis = d3.axisLeft(yScale)
    .tickSize(-innerWidth)
  	.tickPadding(20);
    
  const yAxisG = g.append('g').call(yAxis);
    
  yAxisG.selectAll('.domain').remove();
  yAxisG.append('text')
    .attr('class','axis-label')
    .attr('y',-100)
    .attr('x',-innerHeight/2)
    .attr('transform',`rotate(-90)`)
    .attr('fill','black')
    .attr('text-anchor','middle')
    .text(yAxisLabel);
    
  const xAxisG = g.append('g').call(xAxis)
    .attr('transform',`translate(0,${innerHeight})`);

  xAxisG.selectAll('.domain').remove();
  xAxisG.append('text')
    	.attr('class','axis-label')
    	.attr('y',70)
    	.attr('x',innerWidth/2)
    	.attr('fill','black')
    	.text(xAxisLabel);
    
  	g.selectAll('circle').data(data)
    	.enter().append('circle')
    		.attr('cy', d => yScale(yValue(d)))
    		.attr('cx', d => xScale(xValue(d)))
    		.attr('r', circleRadius);
    
    g.append('text')
    	.attr('class','title')
    	.attr('y',-20)
    	.attr('x',innerWidth/2)
    	.attr('text-anchor','middle')	
    	.text(title);
    	

  };

  d3.csv('https://vizhub.com/curran/datasets/auto-mpg.csv')
    .then(data => {
      data.forEach(d => {
        d.mpg = +d.mpg;
        d.cylinders = +d.cylinders;
        d.displacement = +d.displacement;
        d.horsepower = +d.horsepower;
        d.weight = +d.weight;
        d.acceleration = +d.acceleration;
        d.year = +d.year;
      });
      render(data);
  	});

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBcdFx0XHRzZWxlY3QsIFxuICAgICAgICBjc3YsIFxuICAgICAgICBzY2FsZUxpbmVhciwgXG4gICAgICAgIGV4dGVudCwgXG4gICAgICAgICBcbiAgICAgICAgYXhpc0xlZnQsXG4gIFx0XHRcdGF4aXNCb3R0b20sXG4gIFx0XHRcdGZvcm1hdFxufSBmcm9tICdkMydcblxuY29uc3Qgc3ZnID0gc2VsZWN0KCdzdmcnKTtcblxuXG5jb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoJ2hlaWdodCcpO1xuY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoJ3dpZHRoJyk7XG5jb25zdCBjaXJjbGVSYWRpdXMgPSA1O1xuXG5cblxuY29uc3QgcmVuZGVyID0gZGF0YSA9PiB7XG4gIGNvbnN0IHhWYWx1ZSA9IGQgPT4gZC5ob3JzZXBvd2VyO1xuICBjb25zdCB4QXhpc0xhYmVsID0gJ0hvcnNlcG93ZXInXG4gIGNvbnN0IHlWYWx1ZSA9IGQgPT4gZC53ZWlnaHQ7XG4gIGNvbnN0IHlBeGlzTGFiZWwgPSAnV2VpZ2h0J1xuICBjb25zdCB0aXRsZSA9ICdDYXJzOiBIb3JzZXBvd2VyIHZzLiBXZWlnaHQnO1xuICBjb25zdCBtYXJnaW4gPSB7dG9wOiA3MCwgcmlnaHQ6IDUwLCBib3R0b206IDkwLCBsZWZ0OiAxNTB9XG4gIGNvbnN0IGlubmVyV2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICBjb25zdCBpbm5lckhlaWdodCA9IGhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICBcbiAgY29uc3QgeFNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICBcdC5kb21haW4oZXh0ZW50KGRhdGEseFZhbHVlKSlcbiAgXHQucmFuZ2UoWzAsIGlubmVyV2lkdGhdKVxuICBcdC5uaWNlKCk7XG4gIFxuICBjb25zdCB5U2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gIFx0LmRvbWFpbihleHRlbnQoZGF0YSx5VmFsdWUpKVxuICBcdC5yYW5nZShbMCxpbm5lckhlaWdodF0pXG4gIFx0Lm5pY2UoKTtcbiAgXHRcblxuICBcblx0Y29uc3QgZyA9IHN2Zy5hcHBlbmQoJ2cnKVxuICBcdC5hdHRyKCd0cmFuc2Zvcm0nLGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgKTtcblxuICBcbmNvbnN0IHhBeGlzID0gYXhpc0JvdHRvbSh4U2NhbGUpXG5cdC50aWNrU2l6ZSgtaW5uZXJIZWlnaHQpXG5cdC50aWNrUGFkZGluZygyMCk7XG5cbmNvbnN0IHlBeGlzID0gYXhpc0xlZnQoeVNjYWxlKVxuICAudGlja1NpemUoLWlubmVyV2lkdGgpXG5cdC50aWNrUGFkZGluZygyMCk7XG4gIFxuY29uc3QgeUF4aXNHID0gZy5hcHBlbmQoJ2cnKS5jYWxsKHlBeGlzKVxuICBcbnlBeGlzRy5zZWxlY3RBbGwoJy5kb21haW4nKS5yZW1vdmUoKTtcbnlBeGlzRy5hcHBlbmQoJ3RleHQnKVxuICAuYXR0cignY2xhc3MnLCdheGlzLWxhYmVsJylcbiAgLmF0dHIoJ3knLC0xMDApXG4gIC5hdHRyKCd4JywtaW5uZXJIZWlnaHQvMilcbiAgLmF0dHIoJ3RyYW5zZm9ybScsYHJvdGF0ZSgtOTApYClcbiAgLmF0dHIoJ2ZpbGwnLCdibGFjaycpXG4gIC5hdHRyKCd0ZXh0LWFuY2hvcicsJ21pZGRsZScpXG4gIC50ZXh0KHlBeGlzTGFiZWwpO1xuICBcbmNvbnN0IHhBeGlzRyA9IGcuYXBwZW5kKCdnJykuY2FsbCh4QXhpcylcbiAgLmF0dHIoJ3RyYW5zZm9ybScsYHRyYW5zbGF0ZSgwLCR7aW5uZXJIZWlnaHR9KWApXG5cbnhBeGlzRy5zZWxlY3RBbGwoJy5kb21haW4nKS5yZW1vdmUoKTtcbnhBeGlzRy5hcHBlbmQoJ3RleHQnKVxuICBcdC5hdHRyKCdjbGFzcycsJ2F4aXMtbGFiZWwnKVxuICBcdC5hdHRyKCd5Jyw3MClcbiAgXHQuYXR0cigneCcsaW5uZXJXaWR0aC8yKVxuICBcdC5hdHRyKCdmaWxsJywnYmxhY2snKVxuICBcdC50ZXh0KHhBeGlzTGFiZWwpO1xuICBcblx0Zy5zZWxlY3RBbGwoJ2NpcmNsZScpLmRhdGEoZGF0YSlcbiAgXHQuZW50ZXIoKS5hcHBlbmQoJ2NpcmNsZScpXG4gIFx0XHQuYXR0cignY3knLCBkID0+IHlTY2FsZSh5VmFsdWUoZCkpKVxuICBcdFx0LmF0dHIoJ2N4JywgZCA9PiB4U2NhbGUoeFZhbHVlKGQpKSlcbiAgXHRcdC5hdHRyKCdyJywgY2lyY2xlUmFkaXVzKVxuICBcbiAgZy5hcHBlbmQoJ3RleHQnKVxuICBcdC5hdHRyKCdjbGFzcycsJ3RpdGxlJylcbiAgXHQuYXR0cigneScsLTIwKVxuICBcdC5hdHRyKCd4Jyxpbm5lcldpZHRoLzIpXG4gIFx0LmF0dHIoJ3RleHQtYW5jaG9yJywnbWlkZGxlJylcdFxuICBcdC50ZXh0KHRpdGxlKVxuICBcdFxuXG59O1xuXG5jc3YoJ2h0dHBzOi8vdml6aHViLmNvbS9jdXJyYW4vZGF0YXNldHMvYXV0by1tcGcuY3N2JylcbiAgLnRoZW4oZGF0YSA9PiB7XG4gICAgZGF0YS5mb3JFYWNoKGQgPT4ge1xuICAgICAgZC5tcGcgPSArZC5tcGc7XG4gICAgICBkLmN5bGluZGVycyA9ICtkLmN5bGluZGVycztcbiAgICAgIGQuZGlzcGxhY2VtZW50ID0gK2QuZGlzcGxhY2VtZW50O1xuICAgICAgZC5ob3JzZXBvd2VyID0gK2QuaG9yc2Vwb3dlcjtcbiAgICAgIGQud2VpZ2h0ID0gK2Qud2VpZ2h0O1xuICAgICAgZC5hY2NlbGVyYXRpb24gPSArZC5hY2NlbGVyYXRpb247XG4gICAgICBkLnllYXIgPSArZC55ZWFyO1xuICAgIH0pXG4gICAgcmVuZGVyKGRhdGEpXG5cdH0pOyJdLCJuYW1lcyI6WyJzZWxlY3QiLCJzY2FsZUxpbmVhciIsImV4dGVudCIsImF4aXNCb3R0b20iLCJheGlzTGVmdCIsImNzdiJdLCJtYXBwaW5ncyI6Ijs7O0VBV0EsTUFBTSxHQUFHLEdBQUdB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