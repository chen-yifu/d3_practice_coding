(function (d3) {
  'use strict';

  const svg = d3.select('svg');


  const height = +svg.attr('height');
  const width = +svg.attr('width');
  const circleRadius = 3;



  const render = data => {
    const xValue = d => d.timestamp;
    const xAxisLabel = 'Time';
    const yValue = d => d.temperature;
    const yAxisLabel = 'Temperature (Celsius)';
    const title = 'Time vs. Temperature in San Francisco';
    const margin = {top: 70, right: 50, bottom: 90, left: 90};
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
    const xScale = d3.scaleTime()
    	.domain(d3.extent(data,xValue))
    	.range([0, innerWidth]);
    
    const yScale = d3.scaleLinear()
    	.domain(d3.extent(data,yValue))
    	.range([innerHeight,0]) // reversed
    	.nice();
    	

    
  	const g = svg.append('g')
    	.attr('transform',`translate(${margin.left},${margin.top})`);

    
  const xAxis = d3.axisBottom(xScale)
  	.tickSize(-innerHeight)
  	.tickPadding(20)
  	.ticks(7);

  const yAxis = d3.axisLeft(yScale)
    .tickSize(-innerWidth)
  	.tickPadding(10);
    
  const yAxisG = g.append('g').call(yAxis);
    
  yAxisG.selectAll('.domain').remove();
  yAxisG.append('text')
    .attr('class','axis-label')
    .attr('y',-50)
    .attr('x',-innerHeight/2)
    .attr('transform',`rotate(-90)`)
    .attr('fill','black')
    .attr('text-anchor','middle')
    .text(yAxisLabel);
    
  const xAxisG = g.append('g').call(xAxis)
    .attr('transform',`translate(0,${innerHeight})`);

  xAxisG.selectAll('.domain').remove();
  xAxisG.append('text')
    	.attr('class','axis-label')
    	.attr('y',70)
    	.attr('x',innerWidth/2)
    	.attr('fill','black')
    	.text(xAxisLabel);
    
    const areaGenerator = d3.area()
    	.x(d => xScale(xValue(d)))
    	.y0(innerHeight)
    	.y1(d => yScale(yValue(d)))
    	.curve(d3.curveBasis);
    
    g.append('path')
    	.attr('stroke','black')
    	.attr('class','line-path')
    	.attr('d', areaGenerator(data));
    
    
  	g.selectAll('circle').data(data)
    	.enter().append('circle')
    		.attr('cy', d => yScale(yValue(d)))
    		.attr('cx', d => xScale(xValue(d)))
    		.attr('r', circleRadius);
    
    g.append('text')
    	.attr('class','title')
    	.attr('y',-20)
    	.attr('x',innerWidth/2)
    	.attr('text-anchor','middle')	
    	.text(title);
    	

  };

  d3.csv('https://vizhub.com/curran/datasets/temperature-in-san-francisco.csv')
    .then(data => {
      data.forEach(d => {
        d.temperature = +d.temperature;
        d.timestamp = new Date(d.timestamp);
      });
      render(data);
  	});

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBcdFx0XHRzZWxlY3QsIFxuICAgICAgICBjc3YsIFxuICAgICAgICBzY2FsZUxpbmVhciwgXG4gICAgICAgIGV4dGVudCwgXG4gIFx0XHRcdHNjYWxlVGltZSxcbiAgICAgICAgbGluZSxcbiAgXHRcdFx0YXJlYSxcbiAgXHRcdFx0Y3VydmVCYXNpcyxcbiAgICAgICAgYXhpc0xlZnQsXG4gIFx0XHRcdGF4aXNCb3R0b20sXG4gIFx0XHRcdGZvcm1hdFxufSBmcm9tICdkMydcblxuY29uc3Qgc3ZnID0gc2VsZWN0KCdzdmcnKTtcblxuXG5jb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoJ2hlaWdodCcpO1xuY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoJ3dpZHRoJyk7XG5jb25zdCBjaXJjbGVSYWRpdXMgPSAzO1xuXG5cblxuY29uc3QgcmVuZGVyID0gZGF0YSA9PiB7XG4gIGNvbnN0IHhWYWx1ZSA9IGQgPT4gZC50aW1lc3RhbXA7XG4gIGNvbnN0IHhBeGlzTGFiZWwgPSAnVGltZSdcbiAgY29uc3QgeVZhbHVlID0gZCA9PiBkLnRlbXBlcmF0dXJlO1xuICBjb25zdCB5QXhpc0xhYmVsID0gJ1RlbXBlcmF0dXJlIChDZWxzaXVzKSdcbiAgY29uc3QgdGl0bGUgPSAnVGltZSB2cy4gVGVtcGVyYXR1cmUgaW4gU2FuIEZyYW5jaXNjbyc7XG4gIGNvbnN0IG1hcmdpbiA9IHt0b3A6IDcwLCByaWdodDogNTAsIGJvdHRvbTogOTAsIGxlZnQ6IDkwfVxuICBjb25zdCBpbm5lcldpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgY29uc3QgaW5uZXJIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgXG4gIGNvbnN0IHhTY2FsZSA9IHNjYWxlVGltZSgpXG4gIFx0LmRvbWFpbihleHRlbnQoZGF0YSx4VmFsdWUpKVxuICBcdC5yYW5nZShbMCwgaW5uZXJXaWR0aF0pO1xuICBcbiAgY29uc3QgeVNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICBcdC5kb21haW4oZXh0ZW50KGRhdGEseVZhbHVlKSlcbiAgXHQucmFuZ2UoW2lubmVySGVpZ2h0LDBdKSAvLyByZXZlcnNlZFxuICBcdC5uaWNlKCk7XG4gIFx0XG5cbiAgXG5cdGNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJylcbiAgXHQuYXR0cigndHJhbnNmb3JtJyxgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCR7bWFyZ2luLnRvcH0pYCk7XG5cbiAgXG5jb25zdCB4QXhpcyA9IGF4aXNCb3R0b20oeFNjYWxlKVxuXHQudGlja1NpemUoLWlubmVySGVpZ2h0KVxuXHQudGlja1BhZGRpbmcoMjApXG5cdC50aWNrcyg3KTtcblxuY29uc3QgeUF4aXMgPSBheGlzTGVmdCh5U2NhbGUpXG4gIC50aWNrU2l6ZSgtaW5uZXJXaWR0aClcblx0LnRpY2tQYWRkaW5nKDEwKTtcbiAgXG5jb25zdCB5QXhpc0cgPSBnLmFwcGVuZCgnZycpLmNhbGwoeUF4aXMpXG4gIFxueUF4aXNHLnNlbGVjdEFsbCgnLmRvbWFpbicpLnJlbW92ZSgpO1xueUF4aXNHLmFwcGVuZCgndGV4dCcpXG4gIC5hdHRyKCdjbGFzcycsJ2F4aXMtbGFiZWwnKVxuICAuYXR0cigneScsLTUwKVxuICAuYXR0cigneCcsLWlubmVySGVpZ2h0LzIpXG4gIC5hdHRyKCd0cmFuc2Zvcm0nLGByb3RhdGUoLTkwKWApXG4gIC5hdHRyKCdmaWxsJywnYmxhY2snKVxuICAuYXR0cigndGV4dC1hbmNob3InLCdtaWRkbGUnKVxuICAudGV4dCh5QXhpc0xhYmVsKTtcbiAgXG5jb25zdCB4QXhpc0cgPSBnLmFwcGVuZCgnZycpLmNhbGwoeEF4aXMpXG4gIC5hdHRyKCd0cmFuc2Zvcm0nLGB0cmFuc2xhdGUoMCwke2lubmVySGVpZ2h0fSlgKVxuXG54QXhpc0cuc2VsZWN0QWxsKCcuZG9tYWluJykucmVtb3ZlKCk7XG54QXhpc0cuYXBwZW5kKCd0ZXh0JylcbiAgXHQuYXR0cignY2xhc3MnLCdheGlzLWxhYmVsJylcbiAgXHQuYXR0cigneScsNzApXG4gIFx0LmF0dHIoJ3gnLGlubmVyV2lkdGgvMilcbiAgXHQuYXR0cignZmlsbCcsJ2JsYWNrJylcbiAgXHQudGV4dCh4QXhpc0xhYmVsKTtcbiAgXG4gIGNvbnN0IGFyZWFHZW5lcmF0b3IgPSBhcmVhKClcbiAgXHQueChkID0+IHhTY2FsZSh4VmFsdWUoZCkpKVxuICBcdC55MChpbm5lckhlaWdodClcbiAgXHQueTEoZCA9PiB5U2NhbGUoeVZhbHVlKGQpKSlcbiAgXHQuY3VydmUoY3VydmVCYXNpcyk7XG4gIFxuICBnLmFwcGVuZCgncGF0aCcpXG4gIFx0LmF0dHIoJ3N0cm9rZScsJ2JsYWNrJylcbiAgXHQuYXR0cignY2xhc3MnLCdsaW5lLXBhdGgnKVxuICBcdC5hdHRyKCdkJywgYXJlYUdlbmVyYXRvcihkYXRhKSk7XG4gIFxuICBcblx0Zy5zZWxlY3RBbGwoJ2NpcmNsZScpLmRhdGEoZGF0YSlcbiAgXHQuZW50ZXIoKS5hcHBlbmQoJ2NpcmNsZScpXG4gIFx0XHQuYXR0cignY3knLCBkID0+IHlTY2FsZSh5VmFsdWUoZCkpKVxuICBcdFx0LmF0dHIoJ2N4JywgZCA9PiB4U2NhbGUoeFZhbHVlKGQpKSlcbiAgXHRcdC5hdHRyKCdyJywgY2lyY2xlUmFkaXVzKVxuICBcbiAgZy5hcHBlbmQoJ3RleHQnKVxuICBcdC5hdHRyKCdjbGFzcycsJ3RpdGxlJylcbiAgXHQuYXR0cigneScsLTIwKVxuICBcdC5hdHRyKCd4Jyxpbm5lcldpZHRoLzIpXG4gIFx0LmF0dHIoJ3RleHQtYW5jaG9yJywnbWlkZGxlJylcdFxuICBcdC50ZXh0KHRpdGxlKTtcbiAgXHRcblxufTtcblxuY3N2KCdodHRwczovL3Zpemh1Yi5jb20vY3VycmFuL2RhdGFzZXRzL3RlbXBlcmF0dXJlLWluLXNhbi1mcmFuY2lzY28uY3N2JylcbiAgLnRoZW4oZGF0YSA9PiB7XG4gICAgZGF0YS5mb3JFYWNoKGQgPT4ge1xuICAgICAgZC50ZW1wZXJhdHVyZSA9ICtkLnRlbXBlcmF0dXJlO1xuICAgICAgZC50aW1lc3RhbXAgPSBuZXcgRGF0ZShkLnRpbWVzdGFtcCk7XG4gICAgfSk7XG4gICAgcmVuZGVyKGRhdGEpO1xuXHR9KTtcblxuXG5cblxuIl0sIm5hbWVzIjpbInNlbGVjdCIsInNjYWxlVGltZSIsImV4dGVudCIsInNjYWxlTGluZWFyIiwiYXhpc0JvdHRvbSIsImF4aXNMZWZ0IiwiYXJlYSIsImN1cnZlQmFzaXMiLCJjc3YiXSwibWFwcGluZ3MiOiI7OztFQWNBLE1BQU0sR0FBRyxHQUFHQSxTQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7OztFQUcxQixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7RUFDbkMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0VBQ2pDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQzs7OztFQUl2QixNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUk7SUFDckIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDaEMsTUFBTSxVQUFVLEdBQUcsT0FBTTtJQUN6QixNQUFNLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUNsQyxNQUFNLFVBQVUsR0FBRyx3QkFBdUI7SUFDMUMsTUFBTSxLQUFLLEdBQUcsdUNBQXVDLENBQUM7SUFDdEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFDO0lBQ3pELE1BQU0sVUFBVSxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEQsTUFBTSxXQUFXLEdBQUcsTUFBTSxHQUFHLE1BQU0s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